"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[225],{1225:(Z,d,a)=>{a.r(d),a.d(d,{CartModule:()=>b});var s=a(6814),l=a(6261),t=a(8926),p=a(6772);let m=(()=>{var o;class n{transform(e){return e.filter(c=>c.count>0)}}return(o=n).\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"filterProducts",type:o,pure:!0}),n})();function C(o,n){if(1&o){const r=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12)(4,"div",13)(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"p",14),t._uU(8),t.qZA(),t.TgZ(9,"div",15)(10,"p",16),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"button",17),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.deleteItem(i.product.id))}),t._UZ(14,"i",18),t._uU(15," Remove "),t.qZA()()()(),t.TgZ(16,"div",19)(17,"button",20),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.updateProductCount(i.count-1,i.product.id))}),t._uU(18," - "),t.qZA(),t.TgZ(19,"span",21),t._uU(20),t.qZA(),t.TgZ(21,"button",20),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.updateProductCount(i.count+1,i.product.id))}),t._uU(22," + "),t.qZA()()()}if(2&o){const r=n.$implicit;t.xp6(2),t.Q6J("src",r.product.imageCover,t.LSH),t.xp6(4),t.Oqu(r.product.title),t.xp6(2),t.hij(" ",r.product.category.name," "),t.xp6(3),t.Oqu(t.lcZ(12,5,r.price)),t.xp6(9),t.Oqu(r.count)}}const _=function(o){return["/checkout/",o]};function g(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,C,23,7,"div",3),t.ALo(2,"filterProducts"),t.TgZ(3,"div",4)(4,"h6"),t._uU(5," Number of items: "),t.TgZ(6,"span",5),t._uU(7),t.qZA()(),t.TgZ(8,"h6"),t._uU(9," Total price: "),t.TgZ(10,"span",5),t._uU(11),t.qZA()()(),t.TgZ(12,"div",6)(13,"button",7)(14,"a",8),t._uU(15,"Proceed to checkout"),t.qZA()()()()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,4,r.cartDetails.data.products)),t.xp6(6),t.Oqu(r.cartDetails.numOfCartItems),t.xp6(4),t.Oqu(r.cartDetails.data.totalCartPrice),t.xp6(3),t.Q6J("routerLink",t.VKq(6,_,r.cartDetails.data._id))}}const v=[{path:"",component:(()=>{var o;class n{constructor(e){this._cartService=e,this.cartDetails={}}ngOnInit(){this.getCart()}getCart(){this._cartService.getCart().subscribe({next:e=>{console.log("get Logged in users Cart",e),this.cartDetails=e}})}updateProductCount(e,c){this._cartService.updateProductCount(e,c).subscribe({next:i=>{console.log("get updateProductCount",i),this.cartDetails=i}})}deleteItem(e){this._cartService.removeProduct(e).subscribe({next:c=>{console.log("get updateProductCount",c),this.cartDetails=c}})}}return(o=n).\u0275fac=function(e){return new(e||o)(t.Y36(p.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart"]],decls:4,vars:1,consts:[[1,"container","my-5"],["class","bg-main-light rounded-3 p-3 cinqFont",4,"ngIf"],[1,"bg-main-light","rounded-3","p-3","cinqFont"],["class","row border-bottom m-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","m-4"],[1,"quatreColor"],[1,"d-flex","justify-content-center","m-3"],[1,"btn","bg-quatreColor","check-out"],[3,"routerLink"],[1,"row","border-bottom","m-1"],[1,"col-md-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-9"],[1,"item"],[1,"quatreColor","fw-bold","mb-0"],[1,"d-flex","align-items-center","mb-3"],[1,"fw-bold","mb-0"],[1,"btn","remove",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"col-md-2"],[1,"btn","btn-update",3,"click"],[1,"mx-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Cart Details:"),t.qZA(),t.YNc(3,g,16,8,"div",1),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",null==c.cartDetails?null:c.cartDetails.data))},dependencies:[s.sg,s.O5,l.rH,s.H9,m],styles:[".btn-update[_ngcontent-%COMP%]{border:1px solid var(--quatreColor);transition:all .5s}.btn-update[_ngcontent-%COMP%]:hover{background:var(--quatreColor);color:#fff}.remove[_ngcontent-%COMP%]{color:red;transition:all .5s}.remove[_ngcontent-%COMP%]:hover{color:var(--cinqFont)}"]}),n})()}];let f=(()=>{var o;class n{}return(o=n).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]}),n})(),b=(()=>{var o;class n{}return(o=n).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,f]}),n})()}}]);